<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horn Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Speaker Horn Generator</h1>
            <p>Generate exponential and tractrix horn designs with live 3D preview</p>
        </header>
        
        <div class="main-content">
            <div class="controls-panel">
                <h2>Parameters</h2>
                
                <div class="control-group">
                    <label for="hornType">Horn Type:</label>
                    <select id="hornType">
                        <option value="exponential">Exponential</option>
                        <option value="tractrix">Tractrix</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="throatDiameter">Throat Diameter (mm):</label>
                    <input type="number" id="throatDiameter" value="25.4" min="5" max="100" step="0.1">
                    <span class="value-display" id="throatDiameterValue">25.4 mm</span>
                </div>
                
                <div class="control-group">
                    <label for="mouthDiameter">Mouth Diameter (mm):</label>
                    <input type="number" id="mouthDiameter" value="200" min="50" max="1000" step="1">
                    <span class="value-display" id="mouthDiameterValue">200 mm</span>
                </div>
                
                <div class="control-group">
                    <label for="targetFrequency">Target Frequency (Hz):</label>
                    <input type="number" id="targetFrequency" value="500" min="20" max="20000" step="1">
                    <span class="value-display" id="targetFrequencyValue">500 Hz</span>
                </div>
                
                <div class="control-group">
                    <label for="hornLength">Horn Length (mm):</label>
                    <input type="number" id="hornLength" value="300" min="50" max="2000" step="1">
                    <span class="value-display" id="hornLengthValue">300 mm</span>
                </div>
                
                <div class="control-group">
                    <label for="segments">Segments (quality):</label>
                    <input type="number" id="segments" value="50" min="10" max="200" step="1">
                    <span class="value-display" id="segmentsValue">50</span>
                </div>
                
                <div class="control-group">
                    <label>
                        <input type="checkbox" id="autoCalculateLength">
                        Auto-calculate length from frequency
                    </label>
                </div>
                
                <div class="button-group">
                    <button id="generateBtn" class="primary-btn">Generate Horn</button>
                    <button id="downloadBtn" class="secondary-btn">Download STL</button>
                </div>
                
                <div id="info" class="info-panel">
                    <h3>Horn Information</h3>
                    <p><strong>Cutoff Frequency:</strong> <span id="cutoffFreq">-</span> Hz</p>
                    <p><strong>Expansion Rate:</strong> <span id="expansionRate">-</span></p>
                    <p><strong>Volume:</strong> <span id="volume">-</span> cmÂ³</p>
                </div>
            </div>
            
            <div class="preview-panel">
                <h2>3D Preview</h2>
                <div id="viewport" class="viewport">
                    <div id="loading" class="loading">Initializing OpenCascade...</div>
                </div>
                <div class="viewport-controls">
                    <small>Left-click: Rotate | Right-click: Pan | Scroll: Zoom</small>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module" src="/main.js"></script>
</body>
</html>
